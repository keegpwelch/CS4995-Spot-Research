# CS4995-Spot-Research

## Autowalk Missions
Autowalk missions, recorded with Spot in different areas around Lafferre, can be found in the `kpwcg2_autowalks` folder. Each autowalk folder contains a number of *Edge Snapshots*, the generated graph, an *autogenerated* mission file which can be used to replay the mission, and a topography view of Spot's path.

## Setting Up Spot SDK
Most of my development with Spot has been conducted with the Spot SDK and its included python examples

### Requirements
Spot Python SDK works with Python 3.6 or Python 3.7 only.
Downloads and instructions for installing Python can be found at https://www.python.org/

### Pip Installation
Pip is the package installer for Python. The Spot SDK and the third-party packages used by many of its programming examples use pip to install.
Check if pip is installed by requesting its version:
```
$ python3 -m pip --version
```

### Setting up Virtual Environment
Install virtualenv, create a virtual environment, activate it, and install the necessary packages.
```
$ python3 -m pip install virtualenv
$ python3 -m virtualenv my_spot_v2_0_env
$ source my_spot_v2_0_env/bin/activate
$ (install packages including Spot SDK, code, edit, execute, etc.)
```
### Install and Verify Spot Python Packages
Install Spot packages from Boston Dynamics using pip install:
```
$ (my_spot_v2_0_env) python3 -m pip install --upgrade bosdyn-client bosdyn-mission bosdyn-choreography-client
```
Verify the packages and correct version has been installed:
```
$ (my_spot_v2_0_env) python3 -m pip list --format=columns | grep bosdyn
bosdyn-api                    2.3.4
bosdyn-choreography-client    2.3.4
bosdyn-choreography-protos    2.3.4
bosdyn-client                 2.3.4
bosdyn-core                   2.3.4
bosdyn-mission                2.3.4
```

### Git clone a copy of the full SDK distribution
```
git clone https://github.com/boston-dynamics/spot-sdk.git
```

## Running Examples
A large part of my work from this semester has been familiarizing with the operation of Spot and learning more about Spot development through the SDKs python examples

### Estop
Running most examples will require you to first set up an e-stop in the case Spot must be quickly shut down. Navigate to `~/spot-sdk/python/examples/estop` and run the following commands to start the estop, either without GUI or with:
```
$ python3 -m pip install -r requirements.txt # will install dependent packages
$ python3 estop_nogui.py --username user --password password 192.168.80.3 # no GUI

$ python3 estop_gui.py --username user --password password 192.168.80.3 # with GUI
```
### Hello Spot 
With the Estop running, you can run the Hello Spot example by issuing the following commands:
```
$ cd ~/spot-sdk/python/examples/hello_spot # navigate to where you installed Spot SDK
$ python3 -m pip install -r requirements.txt # install dependent packages
$ python3 hello_spot.py --username user --password password 192.168.80.3 # run example
```

### Mission Recorder
First make sure there is at least one fiducial marker in a position that is visible to Spot’s cameras. More than one fiducial can be used (but each must be unique). Navigate to `~/spot-sdk/python/examples/mission_recorder` and run the script:
```
python3 mission_recorder.py --username USER --password PASSWORD ROBOT_IP DIRECTORY_TO_SAVE_MISSION
```
Press the spacebar to release the software E-Stop.

Press ‘P’ to power on the robot.

Press ‘f’ to command the robot to stand up.

Move the robot using the wasd keys to the desired starting point of the mission, which must have line-of-sight to the fiducial.

The text interface should indicate that the number of fiducials visible is at least 1.

If this number is 0, move the robot using the wasd keys until it can see the fiducial.

Press ‘m’ to start recording a mission.

Drive the robot along the desired path, using ‘w’ and ‘s’ to drive forward and back, ‘a’ and ‘d’ to strafe left and right, and ‘q’ and ‘e’ to turn left and right.

When you have finished training the path, press ‘g’ to save the mission and exit the mission_recorder.

### Replay Mission
In order to get Spot to replay a particular mission, first make sure to move Spot to a location where the initial fiducial is seen and verify that the fiducial has a purple overlay in the tablet camera view. Then run the example with the following command:
```
python3 -m replay_mission --mission <path_to_mission> --username USER --password PASSWORD ROBOT_IP
```

### More Examples
For more examples, check out the [Boston Dynamics Documentation](https://dev.bostondynamics.com/python/examples/readme#).
